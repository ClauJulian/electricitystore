<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/head :: head}"></head>
    <body>
        <nav th:replace="~{fragments/navbar :: nav}"></nav>
          <!-- Mensajes -->
          <div th:replace="~{fragments/mensajeEE :: div}" class="mt-3"></div>
        <div class="container-fluid m-5 contenedor">
            <form class="formulario" th:action="@{/articulo/modificar/__${articulo.idArticulo}__}" method="POST" enctype="multipart/form-data">
                <input hidden th:value="${articulo.idArticulo}" name="idArticulo">
                <div th:replace="~{fragments/mensajeEE :: div}"></div>

                <div class="form-group my-3">
                    <label class="mb-2">Modificar Artículo</label> 
                    <input th:value="${articulo.nombreArticulo}" type="text" class="form-control" name="nombreArticulo" placeholder="Nombre Artículo">
                </div>
                <div class="form-group my-3">
                    <label class="mb-2">Descripción</label> 
                    <input th:value="${articulo.descripcionArticulo}" type="text" class="form-control" name="descripcionArticulo" placeholder="Descripción Artículo">
                </div>

                <div class="form-group my-3">
                    <input type="file" class="form-control" name="archivo" >
                </div>
                
                <div class="form-group my-3">
                    <!-- th:selected lo vamos a usar para que nos mantenga la selección de fabrica que ya tenía -->
                    <select name="idFabrica">
                        <option value="">Seleccione Fábrica</option>
                        <th:block th:each="fabrica : ${fabricas}">
                            <option th:value="${fabrica.idFabrica}" th:selected="${fabrica.idFabrica == fabricaSeleccionada}">
                                [[${fabrica.nombreFabrica}]]
                            </option>
                        </th:block>
                    </select>
                </div>
               
                <button type="submit" class="btn btn-primary mt-3 botones">Actualizar</button>
            </form>

            <section class=" text-center container">
                <div class="row mt-3">
                    <div class="divVolver">
                        <a th:href="@{/inicio}" class="btn btn-secondary my-2 botonVolver botones">Volver</a>
                    </div>
                </div>
            </section>
        </div>

        <footer th:replace="~{fragments/footer :: footer}"></footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    </body>
</html>